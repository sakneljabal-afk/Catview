<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ูุนุจุฉ ุงููุฏูุน ูุงูููุงุนุงุช</title>
<script src="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.min.js"></script>

<style>
  /* === ุชูุณููุงุช ุงูุตูุญุฉ ุงูุนุงูุฉ === */
  body {
    margin: 0;
    /* ุฎูููุฉ ุจุฑุชูุงููุฉ ุฏุงูุฆุฉ ูููุงุณุจุฉ ููุทูู 12 ุณูุฉ */
    background: linear-gradient(135deg, #FFD580 0%, #FFB347 100%);
    font-family: 'Segoe UI', 'Tajawal', Tahoma, Geneva, Verdana, sans-serif;
    /* ููู ูุชุนุทูู ุงูุฅููุงุกุงุช ุบูุฑ ุงููุฑุบูุจ ูููุง ุนูู ุงูููุจุงูู */
    touch-action: none;  
    overflow: hidden;  
    height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* === ุฑุฃุณ ุงูุตูุญุฉ (ุงูุณุคุงู) === */
  header {
    background: #2c3e50;  
    color: #fff;
    text-align: center;
    padding: 10px 15px; /* ุชู ุชูููู ุงูุจุงุฏููุฌ */
    
    /* ๐ ุงูุญู ุงูุฌุฐุฑู: ุชุซุจูุช ุงุฑุชูุงุน ุงูุฑุฃุณ ูู 40% ูู ุงุฑุชูุงุน ุงูุดุงุดุฉ */
    height: 40vh; 
    min-height: 40vh;
    max-height: 40vh; 
    
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: flex-start; /* ูุจุฏุฃ ุงููุญุชูู ูู ุงูุฃุนูู */
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    z-index: 10;
    
    /* ๐ ุงูุญู ุงูุฌุฐุฑู: ููุน ุงูุชูุฑูุฑ ููุงุฆูุงู */
    overflow-y: hidden; 
  }

  header h3 {
    margin: 5px 0 5px 0; /* ุชู ุชูููู ุงูููุงูุด */
    /* ๐ ุงูุชุนุฏูู: ููุงุณ ุฎุท ูุฑู ูููุงุณุจ ูู 40% ูู ุงูุดุงุดุฉ */
    font-size: clamp(1.6rem, 5vw, 2.2rem);  
    color: #FFD700;
    font-weight: bold;
    line-height: 1.3;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
  }

  .answers {
    /* ๐ ุงูุญู ุงูุฌุฐุฑู: ุงุณุชุฎุฏุงู ููููุณ ูุชูุฒูุน ุงูุฎูุงุฑุงุช ุนูู ุงููุณุงุญุฉ ุงููุชุงุญุฉ */
    flex-grow: 1; 
    display: flex;
    flex-direction: column; /* ุชุฑุชูุจ ุงูุฎูุงุฑุงุช ุนููุฏูุงู */
    justify-content: space-evenly; /* ุชูุฒูุน ุงูุฎูุงุฑุงุช ุจุงูุชุณุงูู ุนูู ุงูุงุฑุชูุงุน ุงููุชุจูู */
    text-align: right;  
    padding: 5px 10px; /* ุชู ุชูููู ุงูุจุงุฏููุฌ */
    margin-top: 5px; /* ุชู ุชูููู ุงููุงูุด ุงูุนููู */
    overflow-y: hidden; /* ููุน ุงูุชูุฑูุฑ ุฏุงุฎู ุงูุฎูุงุฑุงุช */
  }
  
  .answers span {
    display: block;  
    /* ๐ ุงูุชุนุฏูู: ุชุตุบูุฑ ุฎุท ุงูุฎูุงุฑุงุช ูููุงุณุจ ุงููุณุงุญุฉ */
    font-size: clamp(1.2rem, 4vw, 1.8rem);  
    margin: 2px 0; /* ุชู ุชูููู ุงูููุงูุด ุจูู ุงูุฎูุงุฑุงุช */
    padding: 6px 10px;
    border-bottom: 1px solid rgba(255,255,255,0.2); /* ุชู ุชูููู ุณูู ุงูุญุฏ */
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    font-weight: 600;
    line-height: 1.4;
    white-space: nowrap; /* ูููุน ุงููุต ูู ุงูุงูุชูุงู ุนูู ุณุทุฑูู */
    overflow: hidden; 
    text-overflow: ellipsis; /* ูุฅุถุงูุฉ ููุงุท ุฅุฐุง ูุงู ุงูุฎูุงุฑ ุฃุทูู ูู ุงููุณุงุญุฉ */
  }
  
  .answers span:last-child {
      border-bottom: none;
  }

  /* === ููุทูุฉ ุงููุนุจุฉ (Main) === */
  main {
    /* ๐ ุงูุญู ุงูุฌุฐุฑู: ุชุซุจูุช ุงุฑุชูุงุน ููุทูุฉ ุงููุนุจุฉ ูู 60% */
    flex: 1;  
    height: 60vh;
    max-height: 60vh;
    min-height: 60vh;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    padding: 5px; /* ุชู ุชูููู ุงูุจุงุฏููุฌ */
  }

  /* ุงูุฅุทุงุฑ ุงูุฎุงุฑุฌู ููุนุจุฉ */
  #game-frame {
    width: 95vw;  
    /* ๐ ุงูุญู ุงูุฌุฐุฑู: ุฌุนู ุงุฑุชูุงุน ุงูุฅุทุงุฑ ูููุฃ ุงูู 60% ุงููุชุงุญุฉ */
    height: 100%; 
    flex-grow: 1; 
    max-width: 700px;  
    /* ุฎูููุฉ ุจุฑุชูุงููุฉ ุฎูููุฉ ูููุงุณุจุฉ ููุฃุทูุงู */
    background: #E8F5E9;  
    /* ุฅุทุงุฑ ุฎุงุฑุฌู ูููู ูุฌุฐุงุจ ููุฃุทูุงู */
    border: 10px solid #FF8C42; /* ุชู ุชูููู ุณูู ุงูุฅุทุงุฑ */
    border-radius: 20px;
    overflow: hidden;
    position: relative;
    box-shadow: 0 0 20px rgba(0,0,0,0.2);
  }

  #game-container {
    width: 100%;
    height: 100%;
  }

  /* === ูุคุซุฑุงุช ุงูุฎุทุฃ === */
  #wrongFlash {
    position: fixed;
    inset: 0;
    background: rgba(255, 0, 0, 0);
    pointer-events: none;
    transition: background 0.2s;
    z-index: 999;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* ุนูุงูุฉ ุงูุฎุทุฃ ุงููุจูุฑุฉ */
  #errorMark {
    font-size: 10rem;
    color: white;
    background: rgba(231, 76, 60, 0.9);
    width: 180px;
    height: 180px;
    border-radius: 50%;
    display: none;  
    justify-content: center;
    align-items: center;
    box-shadow: 0 0 30px rgba(0,0,0,0.4);
    border: 8px solid white;
    font-weight: bold;
  }

  /* ุชุฃุซูุฑุงุช ุชูุงุนููุฉ ููุฎูุงุฑุงุช ุนูุฏ ุงูููุณ */
  @media (hover: hover) {
    .answers span:hover {
      background-color: rgba(255, 255, 255, 0.2);
      transform: scale(1.02);
      transition: transform 0.2s;
    }
  }

  /* ุชุญุณููุงุช ููุดุงุดุงุช ุงูุตุบูุฑุฉ ุฌุฏุงู */
  @media (max-width: 480px) {
    header {
      height: 40vh; /* ุชุซุจูุช ุงูุงุฑุชูุงุน ูู 40% */
      min-height: 40vh;  
      padding: 10px 8px; /* ุชุนุฏูู ุงูุจุงุฏููุฌ */
    }
    
    header h3 {
      font-size: clamp(1.4rem, 4.5vw, 2.0rem);
    }
    
    .answers span {
      font-size: clamp(1.1rem, 3.5vw, 1.6rem);
      padding: 5px 8px;
    }

    main {
      height: 60vh; /* ุชุซุจูุช ุงูุงุฑุชูุงุน ูู 60% */
      max-height: 60vh;
      min-height: 60vh;
    }
    
    #game-frame {
      height: 100%; /* ูุฌุจ ุฃู ูููุฃ ุงูุฅุทุงุฑ ูุณุงุญุฉ ุงูู main */
      flex-grow: 1;
      border-width: 8px;
    }
  }

</style>
</head>

<body>

<header id="questionHeader"></header>

<main>
  <section id="game-frame">
    <div id="game-container"></div>
  </section>
</main>

<div id="wrongFlash">
  <div id="errorMark">โ</div>
</div>

<script>
/* ======================
    0. ุฏุงูุฉ ุฎูุท ุงููุตูููุฉ (Shuffle Function)
====================== */
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

/* ======================
    1. ุงูุจูุงูุงุช (ุงูุฃุณุฆูุฉ) - *ุงูุตูุบุฉ ุงูุฃุตููุฉ ุจุฏูู ุชุบููุฑ*
====================== */
const QUESTIONS = [
    {
        "q": "ุชุนูุด ุดุฌุฑุฉ ุงููุงูุฌุฑูู ูู ุจูุฆุฉ ุงูููุงู ุงููุงูุญุฉุ ูููุฐุง ุชูุชูู ุชูููุงู ุชุฑููุจูุงู ูู:",
        "o": [
            "ุฃูุฑุงู ุนุฑูุถุฉ ุชุทูู ุนูู ุงููุงุก",
            "ุฌุฐูุฑ ูุตูุฑุฉ ุถุนููุฉ",
            "ุฌุฐูุฑ ุทูููุฉ ููููุฉ ูููุงููุฉ ุงูุฃููุงุฌ"
        ],
        "a": 2 // ุงูููุฑุณ (Index) ุงูุฃุตูู ููุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
    },
    {
        "q": "ูุง ูู ูุธููุฉ ุงูุฌุฐูุฑ ุงูุทูููุฉ ูุงููููุฉ ูุดุฌุฑุฉ ุงููุงูุฌุฑููุ",
        "o": [
            "ุชุฎุฒูู ูููุงุช ูุจูุฑุฉ ูู ุงููุงุก",
            "ุงูุชุตุงุต ุงูุถูุก ูู ุณุทุญ ุงููุงุก",
            "ุงูุตููุฏ ุฃูุงู ุงูุฃููุงุฌ ุงููููุฉ"
        ],
        "a": 2
    },
    {
        "q": "ุงูุจูุฆุฉ ุงูุชู ูููู ูููุง ูุจุงุช ุฒูุจู ุงููุงุก (ุงูููุชุณ) ูู ุงููุณุชููุนุงุชุ ูุชุชููุฒ ูุฐู ุงูุจูุฆุฉ ุจู:",
        "o": [
            "ููุงู ูุงูุญุฉ ูุฃููุงุฌ ูููุฉ",
            "ุชุฑุจุฉ ุฌุงูุฉ ูุฏุฑุฌุงุช ุญุฑุงุฑุฉ ูุฑุชูุนุฉ",
            "ููุงู ุฑุงูุฏุฉ ููููุงุช ูุจูุฑุฉ ูู ุงูุทูู"
        ],
        "a": 2
    },
    {
        "q": "ููุชูู ูุจุงุช ุฒูุจู ุงููุงุก ุฃูุฑุงูุงู ุนุฑูุถุฉ ุชุทูู ุนูู ุณุทุญ ุงููุงุกุ ููุฐุง ุงูุชููู ุงูุชุฑููุจู ูุณุงุนุฏู ุนูู:",
        "o": [
            "ููุงููุฉ ุงูุชูุงุฑุงุช ุงููุงุฆูุฉ",
            "ุชุฎุฒูู ุงููุงุก ุงูุฒุงุฆุฏ",
            "ุงูุชุตุงุต ูุฏุฑ ูุจูุฑ ูู ุถูุก ุงูุดูุณ"
        ],
        "a": 2
    },
    {
        "q": "ูุง ูู ุงูุจูุฆุฉ ุงูุชู ุชุชููู ุดุฌุฑุฉ ุงูุตููุจุฑ ููุนูุด ูููุงุ",
        "o": [
            "ุงููุณุชููุนุงุช ุงููุงุฆูุฉ",
            "ุงูุตุญุงุฑู ุงูุฌุงูุฉ",
            "ุงูููุงุทู ุงูุซูุฌูุฉ ุดุฏูุฏุฉ ุงูุจุฑูุฏุฉ"
        ],
        "a": 2
    },
    {
        "q": "ุชููู ุดุฌุฑุฉ ุงูุตููุจุฑ ุนูู ุดูู ูุซูุซุ ููุฐุง ุงูุชููู ุงูุชุฑููุจู ูุณูุญ ุจู:",
        "o": [
            "ุฌุฐุจ ุงููุฒูุฏ ูู ุถูุก ุงูุดูุณ",
            "ุฒูุงุฏุฉ ุณุฑุนุฉ ููู ุงูุฃุบุตุงู",
            "ุณูููุฉ ุงูุฒูุงู ุงูุซูุฌ ูู ุนูููุง ุฏูู ูุณุฑ ุงููุฑูุน"
        ],
        "a": 2
    }
];

/* ======================
    2. ุฅุนุฏุงุฏุงุช ุงููุนุจุฉ (Phaser)
====================== */
const config = {
    type: Phaser.AUTO,
    parent: 'game-container',
    width: 600,
    height: 800,
    // ููู ุฎูููุฉ ุจุฑุชูุงูู ุฎููู ูููุงุณุจ ููุฃุทูุงู
    backgroundColor: '#E8F5E9',
    scale: {
        mode: Phaser.Scale.FIT,
        autoCenter: Phaser.Scale.CENTER_BOTH
    },
    physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 0 },
            debug: false
        }
    },
    scene: { preload, create, update }
};

const game = new Phaser.Game(config);

/* ======================
    3. ุงููุชุบูุฑุงุช ุงูุนุงูุฉ
====================== */
let cannon, bubbles, invisibleWall;
let currentQ = 0;
let canShoot = true;
let missedShots = 0;
let shootAngle = -90; // ูุชุบูุฑ ูุชุฎุฒูู ุงูุฒุงููุฉ
let aimLine; // ูุงุฆู ุฎุท ุงูุชูุฌูู

const BUBBLE_IMG_SIZE = 300;

/* ======================
    4. ุงูุชุญููู (Preload)
====================== */
function preload(){
    // ููุงุญุธุฉ: ุชู ุชุนุฏูู ุงููุณุงุฑ ููุง ุฅูู 'assets/' ููุชูุงูู ูุน ุงูุชุญูููุงุช ุงูุฃุฎุฑู ูู ุงูููุฏ ุงูุฃุตูู
    this.load.image('cannon','assets/cannon.png');
    this.load.image('shoot','assets/shoot.png');
    this.load.image('bubble1','assets/bubble1.png');
    this.load.image('bubble2','assets/bubble2.png');
    this.load.image('bubble3','assets/bubble3.png');
  this.load.audio('correct','../assets/correct.mp3');
  this.load.audio('wrong','../assets/wrong.mp3');
  this.load.audio('wrong','../assets/win.mp3');
}

/* ======================
    5. ุงูุฅูุดุงุก (Create)
====================== */
function create(){
    // ๐ ุงูุชุนุฏูู ุงูุฃูู: ุฎูุท ูุตูููุฉ ุงูุฃุณุฆูุฉ ุนูุฏ ุจุฏุก ุงููุนุจุฉ
    shuffleArray(QUESTIONS);

    const width = this.scale.width;
    const height = this.scale.height;

    this.correctSound = this.sound.add('correct');
    this.wrongSound = this.sound.add('wrong');
    // ููููู ุฅุถุงูุฉ ุตูุช ุงูููุฒ ููุง: this.winSound = this.sound.add('win');

    this.physics.world.setBounds(0, 0, width, height);

    invisibleWall = this.add.rectangle(width/2, height * 0.55, width, 20, 0x000000, 0);
    this.physics.add.existing(invisibleWall, true);

    const cannonHeight = height * 0.10;
    const cannonScale = cannonHeight / 300;

    cannon = this.add.sprite(width/2, height * 0.90, 'cannon')
        .setScale(cannonScale)
        .setDepth(1);

    bubbles = this.physics.add.group({
        collideWorldBounds: true,
        bounceX: 1,
        bounceY: 1
    });
    this.physics.add.collider(bubbles, invisibleWall);

    aimLine = this.add.graphics({ lineStyle: { width: 4, color: 0xFF5722, alpha: 0.8 } }).setDepth(2);

    this.input.on('pointermove', (pointer) => {
        updateAimLine(this, pointer);
    });

    this.input.on('pointerdown', () => {
        if (canShoot) updateAimLine(this, this.input.activePointer);
    });

    this.input.on('pointerup', () => {
        if (canShoot) fire(this);
    });

    showQuestion(this);
}

/* ======================
    6. ุงูุชุญุฏูุซ ุงููุณุชูุฑ (Update)
====================== */
function update() {
    bubbles.children.iterate((b) => {
        if (b) b.rotation += 0.005;
    });
}


/* ======================
    * ุฏุงูุฉ ุฑุณู ุฎุท ุงูุชูุฌูู
====================== */
function updateAimLine(scene, pointer) {
    // ูููุน ุฅุทูุงู ุงูููุฐูู
    const cannonX = cannon.x;
    const cannonY = cannon.y - cannon.displayHeight / 2;

    const pointerX = pointer.x;
    const pointerY = pointer.y;

    // ุญุณุงุจ ุงูุฒุงููุฉ ุจูู ุงููุฏูุน ูููุทุฉ ุงูููุณ
    shootAngle = Phaser.Math.Angle.Between(cannonX, cannonY, pointerX, pointerY);

    // ูุถูุงู ุงูุฅุทูุงู ููุฃุนูู ููุท
    // ุฅุฐุง ูุงูุช ุงูุฒุงููุฉ ููุฌุจุฉ (ุชุฏู ุนูู ุงูุฅุทูุงู ููุฃุณูู)ุ ูุฌุนููุง ูุฑูุจุฉ ูู ุงูุตูุฑ ุฃู -180
    if (shootAngle > 0) {
        if (pointerX < cannonX) {
             shootAngle = Phaser.Math.DegToRad(-179); // ูููุณุงุฑ
        } else {
             shootAngle = Phaser.Math.DegToRad(-1); // ูููููู
        }
    }

    // ุฑุณู ุงูุฎุท ุงููููุท
    aimLine.clear();
    aimLine.lineStyle(4, 0xFF5722, 0.8);

    // ุทูู ูุจูุฑ ููุฎุท ูููุชุฏ ุญุชู ููุงูุฉ ุงูุดุงุดุฉ
    const lineLength = 1000;
    const endX = cannonX + Math.cos(shootAngle) * lineLength;
    const endY = cannonY + Math.sin(shootAngle) * lineLength;

    aimLine.beginPath();
    aimLine.moveTo(cannonX, cannonY);
    aimLine.lineTo(endX, endY);
    aimLine.strokePath();
}

/* ======================
    7. ููุทู ุงูุฅุทูุงู (Fire)
====================== */
function fire(scene){
    canShoot = false;
    aimLine.clear(); // ุฅุฎูุงุก ุฎุท ุงูุชูุฌูู ููุฑ ุงูุฅุทูุงู

    const width = scene.scale.width;
    const shotScale = (width * 0.12) / 300;

    const shot = scene.physics.add.sprite(
        cannon.x,
        cannon.y - cannon.displayHeight/1.5,
        'shoot'
    ).setScale(shotScale);

    // ุชุทุจูู ุงูุณุฑุนุฉ ุจุงุณุชุฎุฏุงู ุงูุฒุงููุฉ ุงููุญุณูุจุฉ
    const speed = 800; // ุณุฑุนุฉ ุงูุฅุทูุงู
    const velocityX = Math.cos(shootAngle) * speed;
    const velocityY = Math.sin(shootAngle) * speed;
    shot.setVelocity(velocityX, velocityY);

    scene.physics.add.overlap(shot, bubbles, (s, b) => {
        s.destroy();
        missedShots = 0;
        bubbleHit(scene, b);
    });

    shot.setCollideWorldBounds(true);
    shot.body.onWorldBounds = true;

    shot.body.world.on('worldbounds', (body) => {
        if (body.gameObject === shot) {
            shot.destroy();
            missedShots++;
            if (missedShots >= 2) {
                missedShots = 0;
                showQuestion(scene);
            }
        }
    });

    scene.time.delayedCall(1200, () => { if(shot.active) shot.destroy(); });

    scene.time.delayedCall(800, () => { canShoot = true; });
}

/* ======================
    8. ููุทู ุงูุฅุตุงุจุฉ (Hit)
====================== */
function bubbleHit(scene, bubble){
    // ๐ ุงูุชุญูู ูู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
    const isCorrect = bubble.getData('isCorrect');
    bubble.destroy();

    if(isCorrect){
        scene.correctSound.play();
        scene.time.delayedCall(500, () => {
            currentQ++;
            showQuestion(scene);
        });
    } else {
        const flash = document.getElementById('wrongFlash');
        const mark = document.getElementById('errorMark');

        scene.wrongSound.play();

        flash.style.background = 'rgba(255,0,0,0.4)';
        mark.style.display = 'flex';

        setTimeout(() => {
            flash.style.background = 'rgba(255,0,0,0)';
            mark.style.display = 'none';
        }, 400);

        scene.time.delayedCall(600, () => showQuestion(scene));
    }
}

/* ======================
    9. ุนุฑุถ ุงูุณุคุงู ูุชูููุฏ ุงูููุงุนุงุช
====================== */
function showQuestion(scene){
ย ย const q = QUESTIONS[currentQ];

ย ย if(!q){
ย ย ย ย document.getElementById('questionHeader').innerHTML = '<h3 style="color:#4CAF50">๐ ุฃุญุณูุช! ุฃูููุช ุงููุนุจุฉ</h3><p style="font-size: 1.8rem;">ููููู ุฅุนุงุฏุฉ ุชุดุบูู ุงููุนุจุฉ ูุชุญุฏู ุฌุฏูุฏ!</p>';
ย ย ย ย bubbles.clear(true, true);
ย ย ย ย // ููููู ุชุดุบูู ุตูุช ุงูููุฒ ููุง: scene.winSound.play();
ย ย ย ย return;
ย ย }

ย ย // ๐ 1. ูุญูุธ ูุต ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุจุงุณุชุฎุฏุงู ุงูููุฑุณ ุงูุฃุตูู
ย ย const correctOptionText = q.o[q.a]; 
ย ย 
ย ย // ๐ ุงูุชุนุฏูู ุงูุฌุฐุฑู: ูุณุชุฎุฏู .slice() ูุถูุงู ุฅูุดุงุก ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุงููุตูููุฉ ูุจู ุฎูุทูุง.
ย ย const optionsToShuffle = q.o.slice(); 
ย ยย
ย ย // ูุฎูุท ุงูุฎูุงุฑุงุช
ย ย const shuffledOptions = shuffleArray(optionsToShuffle);ย

ย ย // ๐ 2. ุฅูุฌุงุฏ ุงูููุฑุณ ุงูุฌุฏูุฏ ููุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุจุนุฏ ุงูุฎูุท
ย ย const newCorrectIndex = shuffledOptions.indexOf(correctOptionText);

ย ย // ุฃููุงู ูุชูููุฒ ุงูุฎูุงุฑุงุช
ย ย const colors = ['#81d4fa', '#a5d6a7', '#ffe082'];

ย ย // ุจูุงุก ูุญุชูู ุงูุฎูุงุฑุงุช ูู ุงูู HTML (ูุณุชุฎุฏู ุงูุชุฑุชูุจ ุงูุนุดูุงุฆู)
ย ย let answersHtml = '';
ย ย for(let i = 0; i < shuffledOptions.length; i++) {
ย ย ย ย answersHtml += `<span style="color:${colors[i]}">${i + 1}: ${shuffledOptions[i]}</span>`;
ย ย }

ย ย document.getElementById('questionHeader').innerHTML = `
ย ย ย ย <h3>${q.q}</h3>
ย ย ย ย <div class="answers">
ย ย ย ย ย ย ${answersHtml}
ย ย ย ย </div>
ย ย `;

ย ย bubbles.clear(true, true);

ย ย const width = scene.scale.width;
ย ย const height = scene.scale.height;

ย ย const bubbleTargetSize = width * 0.18;
ย ย const bubbleScale = bubbleTargetSize / BUBBLE_IMG_SIZE;

ย ย const positions = [0.2, 0.5, 0.8]; // ููุงูุน ุงูููุงุนุงุช

ย ย for(let i=0; i<3; i++){
ย ย ย ย const b = bubbles.create(
ย ย ย ย ย ย width * positions[i],
ย ย ย ย ย ย height * 0.3,
ย ย ย ย ย ย 'bubble' + (i+1)
ย ย ย ย ).setScale(bubbleScale);

ย ย ย ย b.setCircle(130 * (bubbleScale / (width * 0.22 / BUBBLE_IMG_SIZE)));

ย ย ย ย // ๐ ุชุฎุฒูู ุญุงูุฉ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู ุงูููุงุนุฉ ุจุงุณุชุฎุฏุงู ุงูููุฑุณ ุงูุฌุฏูุฏ ุจุนุฏ ุงูุฎูุท
ย ย ย ย b.setData('isCorrect', i === newCorrectIndex);

ย ย ย ย b.setVelocity(
ย ย ย ย ย ย Phaser.Math.Between(-50, 50),
ย ย ย ย ย ย Phaser.Math.Between(-30, 30)
ย ย ย ย );

ย ย ย ย b.setBounce(1);
ย ย ย ย b.setCollideWorldBounds(true);
ย ย }
}
</script>
</body>
</html>
