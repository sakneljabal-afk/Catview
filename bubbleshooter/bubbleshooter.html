<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø¯ÙØ¹ ÙˆØ§Ù„ÙÙ‚Ø§Ø¹Ø§Øª</title>
<script src="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.min.js"></script>

<style>
  /* === ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¹Ø§Ù…Ø© === */
  body {
    margin: 0;
    /* Ø®Ù„ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© Ù„Ø·ÙŠÙØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„ ÙˆØ§Ù„ÙƒØ¨Ø§Ø± */
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    touch-action: none; /* Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ¨ÙŠØ± ÙˆØ§Ù„ØªØµØºÙŠØ± Ø¨Ø§Ù„Ù„Ù…Ø³ */
    overflow: hidden; /* Ù…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
    height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* === Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© (Ø§Ù„Ø³Ø¤Ø§Ù„) === */
  header {
    background: #2c3e50; /* ÙƒØ­Ù„ÙŠ Ù‡Ø§Ø¯Ø¦ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø£Ø³ÙˆØ¯ */
    color: #fff;
    text-align: center;
    padding: 10px;
    height: 15vh; /* 15% Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© */
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    z-index: 10;
  }

  header h3 {
    margin: 0 0 5px 0;
    font-size: clamp(1rem, 4vw, 1.5rem);
    color: #ffd700; /* Ù„ÙˆÙ† Ø°Ù‡Ø¨ÙŠ Ù„Ù„Ù†Øµ Ù„ÙŠÙƒÙˆÙ† Ø¬Ø°Ø§Ø¨Ø§Ù‹ */
  }

  .answers {
    display: flex;
    justify-content: center;
    gap: 15px;
    font-size: clamp(0.9rem, 3.5vw, 1.2rem);
    background: rgba(255,255,255,0.1);
    padding: 5px;
    border-radius: 8px;
  }

  /* === Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© === */
  main {
    flex: 1; /* ÙŠØ£Ø®Ø° Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø³Ø§Ø­Ø© */
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  /* Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ Ù„Ù„Ø¹Ø¨Ø© (ØªÙ… ØªØµØºÙŠØ±Ù‡ Ù„ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ù‡ÙˆØ§Ù…Ø´) */
  #game-frame {
    width: 90vw;  /* Ø¹Ø±Ø¶ 90% ÙÙ‚Ø· Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© */
    height: 75vh; /* Ø§Ø±ØªÙØ§Ø¹ 75% Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© */
    max-width: 600px; /* Ù„Ø§ ÙŠØ²ÙŠØ¯ Ø¹Ù† 600 Ø¨ÙƒØ³Ù„ ÙÙŠ Ø§Ù„ØªØ§Ø¨Ù„Øª */
    background: #f0faff; /* Ø³Ù…Ø§ÙˆÙŠ ÙØ§ØªØ­ Ø¬Ø¯Ø§Ù‹ */
    border: 8px solid #34495e; /* Ø¥Ø·Ø§Ø± Ø³Ù…ÙŠÙƒ Ù„Ø¥Ø¨Ø±Ø§Ø² Ø§Ù„Ù„Ø¹Ø¨Ø© */
    border-radius: 20px;
    overflow: hidden;
    position: relative;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2); /* Ø¸Ù„ Ù„Ø¥Ø¹Ø·Ø§Ø¡ Ø¹Ù…Ù‚ */
  }

  #game-container {
    width: 100%;
    height: 100%;
  }

  /* === Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„Ø®Ø·Ø£ === */
  #wrongFlash {
    position: fixed;
    inset: 0;
    background: rgba(255, 0, 0, 0);
    pointer-events: none;
    transition: background 0.2s;
    z-index: 999;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ø®Ø·Ø£ Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
  #errorMark {
    font-size: 8rem;
    color: white;
    background: rgba(255, 0, 0, 0.8);
    width: 150px;
    height: 150px;
    border-radius: 50%;
    display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
    justify-content: center;
    align-items: center;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    border: 5px solid white;
  }

</style>
</head>

<body>

<header id="questionHeader"></header>

<main>
  <section id="game-frame">
    <div id="game-container"></div>
  </section>
</main>

<div id="wrongFlash">
  <div id="errorMark">âœ–</div>
</div>

<script>
/* ======================
   1. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ù„Ø£Ø³Ø¦Ù„Ø©)
====================== */
const QUESTIONS = [
  { q:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø­Ù…Ø±ØŸ", o:["Ù‡Ù„  Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù Ù…Ù† Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙƒÙ…Ø§ Ù†Ø±Ø§Ù‡ ÙÙˆÙ‚ Ù‡Ùˆ ÙƒÙˆÙƒØ¨ Ø§Ù„Ø²Ù‡Ø±Ø©","Ù‡Ù„  Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù Ù…Ù† Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙƒÙ…Ø§ Ù†Ø±Ø§Ù‡ ÙÙˆÙ‚ Ù‡Ùˆ ÙƒÙˆÙƒØ¨ Ø§Ù„Ù…Ø±ÙŠØ®","Ù‡Ù„  Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù Ù…Ù† Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙƒÙ…Ø§ Ù†Ø±Ø§Ù‡ ÙÙˆÙ‚ Ù‡Ùˆ ÙƒÙˆÙƒØ¨ Ø§Ù„Ù…Ø´ØªØ±ÙŠ"], a:1 },
 { q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±Ø¬Ù„ Ø§Ù„Ù‚Ø·ØŸ", o:["2","4","6"], a:1 },
 { q:"Ù†Ø§ØªØ¬ 5 + 5ØŸ", o:["9","10","11"], a:1 },
 { q:"Ø¹Ø§ØµÙ…Ø© Ù…ØµØ±ØŸ", o:["Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©","Ø§Ù„Ø§Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©","Ø£Ø³ÙˆØ§Ù†"], a:0 }
];

/* ======================
   2. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© (Phaser)
====================== */
const config = {
 type: Phaser.AUTO,
 parent: 'game-container', // Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯ ÙÙŠ HTML
 width: 600,  // Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ "Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ" Ù„Ù„Ø¹Ø¨Ø©
 height: 800, // Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ "Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ"
 scale: {
   mode: Phaser.Scale.FIT, // Ù…Ù„Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø± Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø³Ø¨
   autoCenter: Phaser.Scale.CENTER_BOTH
 },
 physics: {
   default: 'arcade',
   arcade: {
     gravity: { y: 0 },
     debug: false
   }
 },
 scene: { preload, create, update }
};

const game = new Phaser.Game(config);

/* ======================
   3. Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
====================== */
let cannon, bubbles, arrow, invisibleWall;
let currentQ = 0;
let canShoot = true;
let isAiming = false;
let missedShots = 0;

// Ø«ÙˆØ§Ø¨Øª Ø§Ù„ØªØµÙ…ÙŠÙ…
const BUBBLE_IMG_SIZE = 300; // Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ØµÙ„ÙŠ

/* ======================
   4. Ø§Ù„ØªØ­Ù…ÙŠÙ„ (Preload)
====================== */
function preload(){
 // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± (ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ù…Ø¬Ù„Ø¯ assets)
 this.load.image('cannon','assets/cannon.png');
 this.load.image('shoot','assets/shoot.png');
 this.load.image('bubble1','assets/bubble1.png');
 this.load.image('bubble2','assets/bubble2.png');
 this.load.image('bubble3','assets/bubble3.png');
 this.load.audio('correct','assets/correct.mp3');
 this.load.audio('wrong','assets/wrong.mp3');
}

/* ======================
   5. Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ (Create)
====================== */
function create(){
 const width = this.scale.width;
 const height = this.scale.height;

 // --- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª ---
 this.correctSound = this.sound.add('correct');
 this.wrongSound = this.sound.add('wrong');

 // --- Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¹Ø§Ù„Ù… ---
 this.physics.world.setBounds(0, 0, width, height);

 // --- Ø§Ù„Ø¬Ø¯Ø§Ø± ØºÙŠØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ (Ù„Ù…Ù†Ø¹ Ø§Ù„ÙÙ‚Ø§Ø¹Ø§Øª Ù…Ù† Ø§Ù„Ù†Ø²ÙˆÙ„ ÙƒØ«ÙŠØ±Ø§Ù‹) ---
 // Ù†Ø¶Ø¹Ù‡ ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹
 invisibleWall = this.add.rectangle(width/2, height * 0.55, width, 20, 0x000000, 0);
 this.physics.add.existing(invisibleWall, true);

 // --- Ø§Ù„Ù…Ø¯ÙØ¹ (ØªØµØºÙŠØ± Ø§Ù„Ø­Ø¬Ù…) ---
 // Ø¬Ø¹Ù„Ù†Ø§ Ø§Ù„Ù…Ø¯ÙØ¹ Ø£ØµØºØ±: 10% Ù…Ù† Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† 15%
 const cannonHeight = height * 0.10; 
 const cannonScale = cannonHeight / 300; // 300 Ù‡Ùˆ Ø§Ø±ØªÙØ§Ø¹ ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¯ÙØ¹ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ

 cannon = this.add.sprite(width/2, height * 0.90, 'cannon')
   .setScale(cannonScale)
   .setDepth(1); // Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ±Ù‡ ÙÙˆÙ‚ Ø§Ù„Ø®Ù„ÙÙŠØ©

 // --- Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ÙÙ‚Ø§Ø¹Ø§Øª ---
 bubbles = this.physics.add.group({
   collideWorldBounds: true,
   bounceX: 1,
   bounceY: 1
 });
 this.physics.add.collider(bubbles, invisibleWall);

 // --- Ø³Ù‡Ù… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ ---
 arrow = this.add.text(cannon.x, cannon.y - (cannon.displayHeight), 'â¬†ï¸', {
   fontSize: '28px',
   fontFamily: 'Arial'
 }).setOrigin(0.5);

 // --- Ø§Ù„ØªØ­ÙƒÙ… (Ø§Ù„Ù„Ù…Ø³/Ø§Ù„Ù…Ø§ÙˆØ³) ---
 this.input.on('pointermove', (pointer) => {
   // ØªØ­ÙˆÙŠÙ„ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ù„Ù…Ø³ Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© Ø¥Ù„Ù‰ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©
   // Phaser.Scale.FIT ÙŠÙ‚ÙˆÙ… Ø¨Ù‡Ø°Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù„ÙƒÙ† Ù„Ù„ØªØ£ÙƒØ¯ Ù†Ø³ØªØ®Ø¯Ù… clamp
   let xPos = pointer.x;
   // ØªØµØ­ÙŠØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø¥Ø²Ø§Ø­Ø© Ø¨Ø³Ø¨Ø¨ Scale.FIT (ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©)
   // Ù‡Ù†Ø§ Ù†ÙƒØªÙÙŠ Ø¨Ø§Ù„Ù€ Clamp Ø§Ù„Ø¨Ø³ÙŠØ·
   cannon.x = Phaser.Math.Clamp(xPos, width * 0.1, width * 0.9);
   arrow.x = cannon.x;
 });

 this.input.on('pointerdown', () => {
   if (!isAiming) { isAiming = true; return; }
   if (canShoot) fire(this);
 });

 // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
 showQuestion(this);
}

/* ======================
   6. Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªÙ…Ø± (Update)
====================== */
function update() {
  // ØªØ¯ÙˆÙŠØ± Ø§Ù„ÙÙ‚Ø§Ø¹Ø§Øª Ø¨Ø¨Ø·Ø¡ Ù„ØªØ¨Ø¯Ùˆ Ø­ÙŠÙˆÙŠØ©
  bubbles.children.iterate((b) => {
    if (b) b.rotation += 0.005;
  });
}

/* ======================
   7. Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ (Fire)
====================== */
function fire(scene){
 canShoot = false;
 isAiming = false;
 arrow.setVisible(false);

 const width = scene.scale.width;
 
 // Ø­Ø¬Ù… Ø§Ù„Ù‚Ø°ÙŠÙØ© (ØµØºÙŠØ± Ù†Ø³Ø¨ÙŠØ§Ù‹)
 const shotScale = (width * 0.12) / 300; 

 const shot = scene.physics.add.sprite(
   cannon.x,
   cannon.y - cannon.displayHeight/1.5,
   'shoot'
 ).setScale(shotScale);

 // Ø³Ø±Ø¹Ø© Ø§Ù„Ù‚Ø°ÙŠÙØ©
 shot.setVelocityY(-800); 

 // Ø¹Ù†Ø¯ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù‚Ø°ÙŠÙØ© Ø¨ÙÙ‚Ø§Ø¹Ø©
 scene.physics.add.overlap(shot, bubbles, (s, b) => {
   s.destroy();
   missedShots = 0;
   bubbleHit(scene, b);
 });

 shot.setCollideWorldBounds(true);
 shot.body.onWorldBounds = true;

 // Ø¹Ù†Ø¯ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù‚Ø°ÙŠÙØ© Ø¨Ø§Ù„Ø¬Ø¯Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ (Ø®Ø·Ø£)
 shot.body.world.on('worldbounds', (body) => {
   if (body.gameObject === shot) {
     shot.destroy();
     missedShots++;
     if (missedShots >= 2) {
       missedShots = 0;
       showQuestion(scene); // ØªØºÙŠÙŠØ± ØªØ±ØªÙŠØ¨ Ø§Ù„ÙÙ‚Ø§Ø¹Ø§Øª
     }
   }
 });

 // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù‚Ø°ÙŠÙØ© Ø¨Ø¹Ø¯ ÙØªØ±Ø©
 scene.time.delayedCall(1200, () => { if(shot.active) shot.destroy(); });
 
 // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ (Cooldown)
 scene.time.delayedCall(800, () => {
   canShoot = true;
   arrow.setVisible(true);
 });
}

/* ======================
   8. Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¥ØµØ§Ø¨Ø© (Hit)
====================== */
function bubbleHit(scene, bubble){
 const correct = bubble.getData('correct');
 bubble.destroy();

 if(correct){
   scene.correctSound.play();
   scene.time.delayedCall(500, () => {
     currentQ++;
     showQuestion(scene);
   });
 } else {
   // === Ù…Ù†Ø·Ù‚ Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ===
   scene.wrongSound.play();
   
   // 1. ÙˆÙ…ÙŠØ¶ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø­Ù…Ø±Ø§Ø¡
   const flash = document.getElementById('wrongFlash');
   const mark = document.getElementById('errorMark');
   
   flash.style.background = 'rgba(255,0,0,0.4)';
   
   // 2. Ø¥Ø¸Ù‡Ø§Ø± Ø¹Ù„Ø§Ù…Ø© X
   mark.style.display = 'flex'; // Ø§Ø³ØªØ®Ø¯Ø§Ù… flex Ù„ØªÙˆØ³ÙŠØ· Ø§Ù„Ù€ X Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©
   
   // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨Ø¹Ø¯ ÙˆÙ‚Øª Ù‚ØµÙŠØ±
   setTimeout(() => {
     flash.style.background = 'rgba(255,0,0,0)';
     mark.style.display = 'none';
   }, 400); // 400ms

   // Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„ÙÙ‚Ø§Ø¹Ø§Øª
   scene.time.delayedCall(600, () => showQuestion(scene));
 }
}

/* ======================
   9. Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙÙ‚Ø§Ø¹Ø§Øª
====================== */
function showQuestion(scene){
 const q = QUESTIONS[currentQ];
 
 // Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
 if(!q){
   document.getElementById('questionHeader').innerHTML = '<h3 style="color:#4CAF50">ğŸ‰ Ø£Ø­Ø³Ù†Øª! Ø£Ù†Ù‡ÙŠØª Ø§Ù„Ù„Ø¹Ø¨Ø©</h3>';
   bubbles.clear(true, true);
   return;
 }

 // ØªØ­Ø¯ÙŠØ« HTML Ø§Ù„Ø³Ø¤Ø§Ù„
 document.getElementById('questionHeader').innerHTML = `
   <h3>${q.q}</h3>
   <div class="answers">
     <span style="color:#81d4fa">1: ${q.o[0]}</span>
     <span style="color:#a5d6a7">2: ${q.o[1]}</span>
     <span style="color:#ffe082">3: ${q.o[2]}</span>
   </div>
 `;

 bubbles.clear(true, true);
 
 const width = scene.scale.width;
 const height = scene.scale.height;

 // Ø­Ø³Ø§Ø¨ Ø­Ø¬Ù… Ø§Ù„ÙÙ‚Ø§Ø¹Ø© Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ (ÙƒØ¨ÙŠØ±)
 // Ù†Ø±ÙŠØ¯ Ø§Ù„ÙÙ‚Ø§Ø¹Ø© ØªØ£Ø®Ø° 22% Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ
 const bubbleTargetSize = width * 0.22;
 const bubbleScale = bubbleTargetSize / BUBBLE_IMG_SIZE;

 const positions = [0.2, 0.5, 0.8]; // ØªÙˆØ²ÙŠØ¹ Ø£ÙÙ‚ÙŠ Ù…ØªØ³Ø§ÙˆÙŠ

 for(let i=0; i<3; i++){
   const b = bubbles.create(
     width * positions[i],
     height * 0.3, 
     'bubble' + (i+1)
   ).setScale(bubbleScale);

   // ØªØ­Ø³ÙŠÙ† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ù…Ø³/Ø§Ù„ØªØµØ§Ø¯Ù… Ù„Ù„ÙÙ‚Ø§Ø¹Ø© Ù„ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ø±ÙŠØ©
   // Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± = (Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙØ¹Ù„ÙŠ / 2)
   // Ø¨Ù…Ø§ Ø£Ù†Ù†Ø§ Ù‚Ù…Ù†Ø§ Ø¨Ø¹Ù…Ù„ ScaleØŒ Ù†Ø­ØªØ§Ø¬ Ù„Ø¶Ø¨Ø· Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©
   b.setCircle(130); 

   b.setData('correct', i === q.a);
   
   // Ø­Ø±ÙƒØ© Ø§Ù„Ø·ÙÙˆ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
   b.setVelocity(
     Phaser.Math.Between(-50, 50), 
     Phaser.Math.Between(-30, 30)
   );
   
   b.setBounce(1);
   b.setCollideWorldBounds(true);
 }
}
</script>
</body>
</html>

